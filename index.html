<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>æ˜Ÿå®çš„éƒ¨è½æ ¼ | å­¸ç¿’éŸ³æ¨‚èˆ‡é›»è…¦çš„åˆ†äº«ç¶²ç«™</title>
  <meta name="description" content="ä½ å¥½ï¼Œæˆ‘æ˜¯æ˜Ÿå®ï¼Œä¸€åå°ç’°å¢ƒã€äº¤é€šèˆ‡é›»è…¦ç§‘å­¸æœ‰èˆˆè¶£çš„å°å­¸ç”Ÿã€‚é€™è£¡æ˜¯æˆ‘çš„ç­†è¨˜ã€ä½œå“åˆ†äº«èˆ‡ç•™è¨€æ¿ã€‚">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon192.png" type="image/png" sizes="192x192">
  <link rel="apple-touch-icon" href="favicon180.png">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="main.css">
</head>

<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N0D6F5HQRR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-N0D6F5HQRR');
</script>

<body>
  <header>
    <h1>æ˜Ÿå®çš„éƒ¨è½æ ¼</h1>
  </header>

  <div class="container">
    <div class="spacer"></div>

    <!-- é—œæ–¼æˆ‘ -->
    <section>
      <h2>é—œæ–¼æˆ‘</h2>
      <div class="typewriter-container">
        <span id="typing-text"></span><span class="cursor" id="cursor"></span>
      </div>
      <img id="avatar" src="andrew.png" alt="å°å®" style="cursor:pointer;">
    </section>
    
<!-- ä»»å‹™å€å¡Šï¼Œé è¨­éš±è— -->
<section id="task-section" style="display:none;margin-top:20px;">
  <h2>å°å®ä»»å‹™æŒ‘æˆ°</h2>
  <p>å®Œæˆä»»å‹™å¯ç²å¾—å¾½ç« ï¼Œå›é¦–é å³å¯æŸ¥çœ‹ï¼</p>
  <button onclick="goTask()">é–‹å§‹ä»»å‹™</button>

  <div id="badges">
    <h3>ä½ å·²ç²å¾—çš„å¾½ç« ï¼š</h3>
    <div id="badgeList"></div>
  </div>
</section>

<script>
  // å½ˆè·³å¾½ç« å‹•ç•«
  function showBadges() {
    let badges = JSON.parse(localStorage.getItem("badges") || "[]");
    let container = document.getElementById("badgeList");
    container.innerHTML = "";
    if (badges.length === 0) {
      container.innerHTML = "<p>ä½ é‚„æ²’æœ‰å¾½ç« ï¼Œå¿«å»å®Œæˆä»»å‹™å§ï¼</p>";
    } else {
      badges.forEach((b,i)=>{
        let div = document.createElement("div");
        div.className="badge"; div.innerText=b;
        div.style.animationDelay = `${i*0.2}s`;
        container.appendChild(div);
        div.animate([{transform:'translateY(0px)'},{transform:'translateY(-10px)'},{transform:'translateY(0px)'}],
          {duration:800,iterations:Infinity,delay:i*200});
      });
    }
  }
  showBadges();

  // éš±è—å…¥å£ï¼šé»ä¸‰ä¸‹é–‹ä»»å‹™å€
  let avatar = document.getElementById("avatar");
  let clickCount = 0;
  let timer = null;
  avatar.addEventListener("click", ()=>{
    clickCount++;
    if(timer) clearTimeout(timer);
    timer = setTimeout(()=>{clickCount=0;},800); // 0.8ç§’å…§ä¸‰ä¸‹
    if(clickCount===3){
      document.getElementById("task-section").style.display="block";
      clickCount=0;
    }
  });

  // é»ã€Œé–‹å§‹ä»»å‹™ã€ç”Ÿæˆè‡¨æ™‚é©—è­‰ç¢¼
  function goTask(){
    let token = Math.random().toString(36).substring(2,10);
    sessionStorage.setItem("taskToken", token);
    location.href = "task.html?key="+token;
  }
</script>

<style>
  .badge {display:inline-block;margin:5px;padding:8px 12px;background:#ffcc00;color:#333;border-radius:6px;font-weight:bold;font-size:16px;}
  #task-section button{padding:12px 24px;background:#8a2be2;color:white;border:none;border-radius:8px;cursor:pointer;}
  #task-section button:hover{background:#6a1fbf;}
</style>


    <!-- ç”¨é€” -->
    <section>
      <h2>ç”¨é€”</h2>
      <p>æä¾›ç•™è¨€åŠŸèƒ½ï¼Œè®“ä½¿ç”¨è€…å¯ä»¥åœ¨æˆ‘çš„ç¶²ç«™ä¸Šåˆ†äº«æƒ³æ³•èˆ‡å¿ƒå¾—ã€‚æ‰€æœ‰ç•™è¨€éƒ½æœƒå®‰å…¨å„²å­˜åœ¨è³‡æ–™åº«ä¸­ã€‚</p>
    </section>

    <!-- è¯çµ¡æˆ‘ -->
    <section>
      <h2>è¯çµ¡æˆ‘</h2>
      <p>ä½ å¯ä»¥é€šéä»¥ä¸‹æ–¹å¼è¯çµ¡æˆ‘ï¼š</p>
      <p><strong>ğŸ“§ é›»å­éƒµä»¶ï¼š</strong><a href="mailto:andrewwork03295@gmail.com">andrewwork03295@gmail.com</a></p>
      <h2>å…¶ä»–é€£çµ</h2>
      <p><strong>ğŸŒ é›»å­åç‰‡ï¼š</strong><a href="https://andrew.000.pe/name" target="_blank">andrew.000.pe/name</a></p>
      <p><strong>ğŸ“ æˆ‘çš„æ—¥è¨˜ï¼š</strong><a href="https://andrew0205blog.blogspot.com/" target="_blank">andrew0205blog.blogspot.com/</a></p>

      <!-- èªè¨€åˆ‡æ› -->
      <h2>åˆ‡æ›èªè¨€ Switch Language</h2>
      <button onclick="go()">English</button>
    </section>

   <!-- ç•™è¨€æ¿ -->
<h2>ç•™è¨€æ¿</h2>
<p>
  æ­¡è¿å¤§å®¶åœ¨é€™è£¡è‡ªç”±äº¤æµã€åˆ†äº«ç”Ÿæ´»é»æ»´æˆ–æƒ³æ³•ï¼<br>
  ç‚ºäº†è®“å¤§å®¶éƒ½æœ‰æ„‰å¿«çš„ä½¿ç”¨é«”é©—ï¼Œç•™è¨€æ™‚è«‹éµå®ˆ
  <a href="commentrules.html" target="_blank">ç•™è¨€æ¿è¦å‰‡</a>ã€‚
</p>
<p>é€™è£¡æ˜¯è®“å¤§å®¶è¼•é¬†èŠå¤©çš„åœ°æ–¹ï¼Œå¸Œæœ›ä½ èƒ½åœ¨éµå®ˆè¦å‰‡çš„åŒæ™‚ï¼Œäº«å—è‡ªåœ¨åˆ†äº«çš„æ¨‚è¶£ï¼</p>

<section id="comment-section">
  <div id="comment-box">
    <input type="text" id="name" placeholder="åå­—" />
    <textarea id="message" placeholder="ç•™è¨€å…§å®¹"></textarea>
    <button onclick="addComment()">é€å‡ºç•™è¨€</button>
    <div id="messages"></div>
  </div>
</section>


    <p class="last-updated">ğŸ“… æœ€å¾Œæ›´æ–°:2025 å¹´ 9 æœˆ 15 æ—¥</p>
  </div>

  <footer>
    Â© 2025 æ˜Ÿå®å·¥ä½œå®¤<br>
     <a href="https://andrew.000.pe/privacy.html" target="_blank">éš±ç§æ¬Šæ”¿ç­–</a>|<a href="terms.html" target="_blank">æœå‹™æ¢æ¬¾</a>
  </footer>

 
  <!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore-compat.js"></script>

<script>
  // Firebase è¨­å®š
  const firebaseConfig = {
    apiKey: "AIzaSyClktI5_wSo-u9LuwdsBVzH6buizJPXMAs",
    authDomain: "mycomment-ad1ba.firebaseapp.com",
    projectId: "mycomment-ad1ba",
    storageBucket: "mycomment-ad1ba.appspot.com",
    messagingSenderId: "1076313273646",
    appId: "1:1076313273646:web:2b5aaa8c6bd5824828f6bf",
    measurementId: "G-3NGHCWH7TP"
  };

  // åˆå§‹åŒ–
  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  // ç°¡å–®çš„ XSS é˜²è­·ï¼šéæ¿¾è¼¸å…¥
  function sanitize(str) {
    return str
      .replace(/&/g, "&amp;")
      .replace(/</g, "&lt;")
      .replace(/>/g, "&gt;")
      .replace(/"/g, "&quot;")
      .replace(/'/g, "&#039;");
  }

  // æ–°å¢ç•™è¨€
  function addComment() {
    const name = document.getElementById("name").value.trim();
    const message = document.getElementById("message").value.trim();
    if (!name || !message) { 
      alert("è«‹è¼¸å…¥åå­—å’Œç•™è¨€ï¼");
      return;
    }
    db.collection("comment").add({
      name: sanitize(name),
      message: sanitize(message),
      timestamp: firebase.firestore.FieldValue.serverTimestamp()
    });
    document.getElementById("message").value = "";
  }

 const messagesDiv = document.getElementById("messages");

db.collection("comment").orderBy("timestamp", "desc")
  .onSnapshot(snapshot => {
    messagesDiv.innerHTML = "";
    snapshot.forEach(doc => {
      const data = doc.data();
      const time = data.timestamp ? data.timestamp.toDate().toLocaleString() : "ï¼ˆæ™‚é–“æœªçŸ¥ï¼‰";
      messagesDiv.innerHTML += `
        <div class="comment-card">
          <b>${data.name}</b>
          <p>${data.message}</p>
          <small>${time}</small>
        </div>
      `;
    });
  });


</script>


  

  <!-- æ‰“å­—æ•ˆæœ -->
  <script>
    const text = `å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ˜Ÿå®ï¼Œä¹Ÿå¯ä»¥å«æˆ‘å°å®ï¼Œæ˜¯ä¸€ä½å……æ»¿å¥½å¥‡å¿ƒçš„å°å­¸ç”Ÿï¼
æˆ‘å°ç”Ÿæ´»ä¸­å¾ˆå¤šäº‹ç‰©éƒ½æ„Ÿåˆ°èˆˆè¶£ï¼Œå°¤å…¶æ˜¯è·Ÿäº¤é€šæœ‰é—œçš„ï¼Œä¾‹å¦‚æ·é‹ã€ç«è»Šå’Œè¼•è»Œç³»çµ±ï¼Œé€™äº›éƒ½æ˜¯æˆ‘æœ€å–œæ­¡ç ”ç©¶çš„ä¸»é¡Œã€‚
é™¤äº†å°äº¤é€šæœ‰ç†±æƒ…ï¼Œæˆ‘ä¹Ÿå–œæ­¡è‡ªå·±å‹•æ‰‹åšç¶²ç«™ã€ç•«ç•«ï¼Œé‚„æœƒå½ˆé‹¼ç´ã€‚
æœ‰æ™‚å€™æˆ‘æœƒç”¨é›»è…¦å¯«ä¸€äº›ç°¡å–®çš„ç¶²é ç¨‹å¼ï¼ŒæŠŠæˆ‘çš„èˆˆè¶£åšæˆå°ä½œå“åˆ†äº«åœ¨ç¶²è·¯ä¸Šã€‚
é€™å€‹ç¶²ç«™æ˜¯æˆ‘è¦ªæ‰‹å»ºç«‹çš„ï¼Œè£¡é¢è¨˜éŒ„äº†æˆ‘å°å„ç¨®ä¸»é¡Œçš„æƒ³æ³•å’Œå‰µæ„ã€‚
å¦‚æœä½ ä¹Ÿæ˜¯å–œæ­¡äº¤é€šã€éŸ³æ¨‚ã€æˆ–åšç¶²ç«™çš„äººï¼Œæ­¡è¿ä¾†å’Œæˆ‘äº¤æµï¼
ä¹Ÿå¯ä»¥çœ‹çœ‹[ æˆ‘çš„æ—¥è¨˜](https://andrew0205blog.blogspot.com/)ï¼Œäº†è§£æˆ‘çš„æ—¥å¸¸ç”Ÿæ´»ã€‚
æˆ‘æœƒç¹¼çºŒåŠªåŠ›å­¸ç¿’ï¼Œè®“è‡ªå·±çš„ä½œå“è¶Šä¾†è¶Šè±å¯Œï¼Œèªªä¸å®šæœ‰ä¸€å¤©ï¼Œæˆ‘çœŸçš„èƒ½è¨­è¨ˆå‡ºä¸€æ¢å±¬æ–¼è‡ªå·±çš„æ·é‹ç·šå–”ï¼`;

    const output = document.getElementById("typing-text");
    const cursor = document.getElementById("cursor");

    let i = 0;
    const totalTypingTime = 17000; // 17ç§’
    const interval = totalTypingTime / text.length;

    function typeEffect() {
      if (i >= text.length) return;

      if (text[i] === '[') {
        const endBracket = text.indexOf(']', i);
        const linkText = text.slice(i + 1, endBracket);
        const startParen = text.indexOf('(', endBracket);
        const endParen = text.indexOf(')', startParen);
        const url = text.slice(startParen + 1, endParen);

        const linkEl = document.createElement("a");
        linkEl.href = url;
        linkEl.target = "_blank";
        linkEl.style.color = "#4CAF50";
        linkEl.style.textDecoration = "underline";
        output.appendChild(linkEl);

        let j = 0;
        function typeLink() {
          if (j < linkText.length) {
            linkEl.innerHTML += linkText[j];
            j++;
            setTimeout(typeLink, interval);
          } else {
            i = endParen + 1;
            setTimeout(typeEffect, interval);
          }
        }
        typeLink();
        return;
      }

      if (text[i] === '\n') {
        output.innerHTML += "<br>";
      } else {
        output.innerHTML += text[i];
      }

      i++;
      setTimeout(typeEffect, interval);
    }

    // å•Ÿå‹•æ‰“å­—æ©Ÿæ•ˆæœ
    typeEffect();

    // æ¸¸æ¨™é–ƒçˆ
    setInterval(() => {
      cursor.style.visibility = cursor.style.visibility === 'hidden' ? 'visible' : 'hidden';
    }, 500);
  </script>

  <!-- èªè¨€åˆ‡æ› -->
  <script>
    function go() {
      const btn = document.querySelector("section button");
      if (btn.innerHTML === "English") {
        const answer = confirm("ä½ è¦åˆ‡æ›æˆè‹±æ–‡å—ï¼Ÿ Do you want to switch to English?");
        if (answer) {
          window.location.href = "https://andrew.000.pe/english.html";
        } else {
          btn.innerHTML = "ä¸­æ–‡";
        }
      } else {
        const answer = confirm("è¦åˆ‡å›ä¸­æ–‡å—ï¼Ÿ Switch back to Chinese?");
        if (answer) {
          btn.innerHTML = "English";
        } else {
          alert("ä½ é¸æ“‡ç•™åœ¨ä¸­æ–‡æ¨¡å¼ï¼");
        }
      }
    }
  </script>

</body>
</html>
