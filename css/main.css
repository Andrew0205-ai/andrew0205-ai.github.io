/* ==========================================
   ğŸ¨ 1. CSS è®Šæ•¸å®šç¾© (æ™ºæ…§è‰²èª¿æ§åˆ¶ä¸­å¿ƒ)
   ========================================== */
:root {
  --app-bg: #f5f5f5;
  --text-main: #333333;
  --card-bg: #ffffff;           /* ä¿®æ­£å¡ç‰‡èƒŒæ™¯ */
  --input-bg: #f8f9fa;         /* ä¿®æ­£è¼¸å…¥æ¡†èƒŒæ™¯ */
  --comment-card-bg: #e8ffe8;
  --comment-text-bg: #ffffff;   /* æ·ºè‰²ç•™è¨€èƒŒæ™¯ */
  --comment-title-color: #1a4d1a;
  --banner-gradient: linear-gradient(90deg, #1e7e34, #198754);
  --border-color: #dee2e6;
}

[data-bs-theme="dark"] {
  --app-bg: #121212;
  --text-main: #e0e0e0;
  --card-bg: #1e1e1e;           /* æ·±è‰²å¡ç‰‡èƒŒæ™¯ */
  --input-bg: #2b2b2b;         /* æ·±è‰²è¼¸å…¥æ¡†èƒŒæ™¯ */
  --comment-card-bg: #1a2a1a;
  --comment-text-bg: #252525;   /* æ·±è‰²ç•™è¨€èƒŒæ™¯ï¼Œè§£æ±ºçœ‹ä¸è¦‹çš„å•é¡Œ */
  --comment-title-color: #85d19a;
  --banner-gradient: linear-gradient(90deg, #145524, #0f5132);
  --border-color: #333333;
}

/* ==========================================
   ğŸŒŸ 2. å…¨åŸŸæ¨£å¼èˆ‡ä¸»é«”
   ========================================== */
body {
  background-color: var(--app-bg) !important;
  color: var(--text-main);
  font-family: "Noto Sans TC", sans-serif;
  transition: all 0.3s ease;
}

/* ä¿®æ­£å¡ç‰‡èˆ‡å€å¡ŠèƒŒæ™¯ (å°æ‡‰ä½ çš„ #quickBlessing, #userArea) */
#quickBlessing, #userArea, .card {
  background-color: var(--card-bg) !important;
  border-color: var(--border-color) !important;
  color: var(--text-main);
}

/* ä¿®æ­£è¼¸å…¥æ¡† (è§£æ±ºåˆºçœ¼å•é¡Œ) */
#commentInput {
  background-color: var(--input-bg) !important;
  color: var(--text-main) !important;
  border: 1px solid var(--border-color) !important;
}
#commentInput::placeholder { color: #888; }

/* --------------------------------------
   ğŸ„ æ©«å¹…ã€é›ªèŠ±èˆ‡ç‰¹æ•ˆ
   -------------------------------------- */
#christmasBanner { background: var(--banner-gradient); color: white; text-align: center; padding: 8px; font-weight: 500; }
#snow-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9999; }
.snowflake { position: absolute; top: -20px; color: white; animation: fallAndSway linear infinite; }

@keyframes fallAndSway {
  0% { transform: translateY(0) translateX(0) rotate(0deg); }
  100% { transform: translateY(105vh) translateX(0) rotate(360deg); }
}

/* æ‰“å­—æ©Ÿèˆ‡é‡‘å…‰å¾½ç«  */
.cursor { display: inline-block; width: 6px; background-color: var(--text-main); animation: blink 0.7s infinite; }
@keyframes blink { 50% { opacity: 0; } }

.badge-visible { position: relative; background-color: #ffc107 !important; color: #212529 !important; }
.badge-visible::after { content: "âœ¨"; position: absolute; top: -10px; right: -10px; animation: sparkle 1.4s infinite; }
@keyframes sparkle { 0%, 100% { opacity: 0; transform: scale(1); } 50% { opacity: 0.9; transform: scale(1.4); } }

/* --------------------------------------
   ğŸŒŸ ç•™è¨€æ¿çµ„ä»¶ (è§£æ±ºç™½åº•ç™½å­—å•é¡Œ)
   -------------------------------------- */
.comment-card {
  background: var(--comment-card-bg);
  border-radius: 16px; padding: 12px 15px; margin-bottom: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
}

.comment-card .user-name-title { color: var(--comment-title-color); font-weight: bold; }

.comment-text {
  background: var(--comment-text-bg) !important;
  color: var(--text-main) !important;
  padding: 10px 14px; margin: 8px 0; border-radius: 12px;
  border-left: 4px solid #4caf50; line-height: 1.6;
}

.comment-footer { font-size: 12px; opacity: 0.8; }

/* --------------------------------------
   ğŸ‡¸ğŸ‡¬ å¿«æ·äº’å‹•æŒ‰éˆ•
   -------------------------------------- */
.blessing-btn {
  background-color: var(--input-bg);
  color: var(--text-main);
  border: 1px solid var(--border-color);
  transition: 0.2s;
}
.blessing-btn:hover { background-color: #4caf50; color: white; }

/* --------------------------------------
   ğŸŒ“ å…¶ä»–çµ„ä»¶ (è·‘é¦¬ç‡ˆã€Steam æç¤ºã€æŒ‰éˆ•)
   -------------------------------------- */
.marquee-wrapper { width: 100%; background-color: green; color: white; padding: 10px 0; overflow: hidden; }
.marquee { display: inline-block; white-space: nowrap; animation: marquee-animation 15s linear infinite; }
@keyframes marquee-animation { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }

#achievementToast {
  position: fixed; bottom: 30px; right: -350px; width: 300px; padding: 15px;
  background: rgba(30,30,30,0.9); color: white; border-left: 6px solid gold;
  transition: right 0.6s ease-out; z-index: 9999;
}
#achievementToast.show { right: 20px; }

#themeToggle:hover { transform: translateY(-1px); box-shadow: 0 0 8px rgba(255, 255, 255, 0.4); }
[data-bs-theme="dark"] #themeToggle:hover { box-shadow: 0 0 10px rgba(129, 199, 132, 0.5); }

/* é€£çµèˆ‡æ“ä½œ */
.link-strong { color: #2e7d32; text-decoration: underline; }
[data-bs-theme="dark"] .link-strong { color: #81c784; }
.action-edit { color: #0d47a1; cursor: pointer; }
[data-bs-theme="dark"] .action-edit { color: #64b5f6; }
.action-delete { color: #b71c1c; cursor: pointer; }
[data-bs-theme="dark"] .action-delete { color: #e57373; }
/* ==========================================
   ğŸ¯ çµ‚æ¥µä¿®å¾©ï¼šå¼·åˆ¶æ“Šæ•— Bootstrap .text-dark
   ========================================= */
[data-bs-theme="dark"] .comment-text.text-dark,
[data-bs-theme="dark"] .comment-text * {
  color: var(--text-main) !important;
  --bs-text-opacity: 1 !important;
}

/* å¦‚æœä½ çš„ç•™è¨€ HTML çµæ§‹è£¡æœ‰ç›´æ¥å¯« text-darkï¼Œé€™è¡Œèƒ½å¾¹åº•è§£æ±º */
[data-bs-theme="dark"] .text-dark {
  color: var(--text-main) !important;
}
